{"version":3,"sources":["webpack:///webpack/bootstrap 4210569a1eaa4b74fa9f","webpack:///./js/app.js","webpack:///delegated ./node_modules/mithril/mithril.js from dll-reference vendor_library","webpack:///external \"vendor_library\"","webpack:///./js/component.js","webpack:///./js/vm.js","webpack:///./js/const.js"],"names":[],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4210569a1eaa4b74fa9f\n **/","import m from 'mithril';\nimport component from 'component';\n\nm.mount(document.getElementById('root'), component);\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/app.js\n **/","module.exports = (__webpack_require__(2))(1);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/mithril/mithril.js from dll-reference vendor_library\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = vendor_library;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"vendor_library\"\n ** module id = 2\n ** module chunks = 0\n **/","import m from 'mithril';\nimport Vm from 'vm';\nimport Const from 'const';\n\nconst component = {\n  controller: function () {\n    this.vm = new Vm();\n    this.onPutFiles = (e) => {\n      this.noop(e);\n      const files = e.dataTransfer.files;\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const reader = new FileReader();\n        reader.filename = file.name;\n        m.startComputation();\n        reader.onloadend = this.vm.loadEnd.bind(this.vm);\n        reader.readAsDataURL(file);\n      }\n    };\n    this.noop = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n  },\n  view: (ctrl) => {\n    const vm = ctrl.vm;\n    return m('.app', [\n      m('.loader', {\n        ondrop: ctrl.onPutFiles,\n        ondragover: ctrl.noop\n      }, 'put Image files'),\n      m('.tools', [\n        m('.xmode', [\n          '横位置:',\n          m('label', [\n            m('input', {\n              type: 'radio',\n              name: 'xmode',\n              value: Const.mode.start,\n              checked: vm.xMode() == Const.mode.start,\n              onclick: m.withAttr('value', vm.xMode)\n            })\n          ], '左'),\n          m('label', [\n            m('input', {\n              type: 'radio',\n              name: 'xmode',\n              value: Const.mode.center,\n              checked: vm.xMode() == Const.mode.center,\n              onclick: m.withAttr('value', vm.xMode)\n            })\n          ], '中央'),\n          m('label', [\n            m('input', {\n              type: 'radio',\n              name: 'xmode',\n              value: Const.mode.end,\n              checked: vm.xMode() == Const.mode.end,\n              onclick: m.withAttr('value', vm.xMode)\n            })\n          ], '右')\n        ]),\n        m('.ymode', [\n          '縦位置:',\n          m('label', [\n            m('input', {\n              type: 'radio',\n              name: 'yMode',\n              value: Const.mode.start,\n              checked: vm.yMode() == Const.mode.start,\n              onclick: m.withAttr('value', vm.yMode)\n            })\n          ], '上'),\n          m('label', [\n            m('input', {\n              type: 'radio',\n              name: 'yMode',\n              value: Const.mode.center,\n              checked: vm.yMode() == Const.mode.center,\n              onclick: m.withAttr('value', vm.yMode)\n            })\n          ], '中央'),\n          m('label', [\n            m('input', {\n              type: 'radio',\n              name: 'yMode',\n              value: Const.mode.end,\n              checked: vm.yMode() == Const.mode.end,\n              onclick: m.withAttr('value', vm.yMode)\n            })\n          ], '下')\n        ]),\n        m('.shift', [\n          '余白: ',\n          m('label', [\n            '上: ',\n            m('input', {\n              type: 'number',\n              value: vm.top(),\n              onchange: m.withAttr('value', vm.top),\n              onkeyup: m.withAttr('value', vm.top)\n            })\n          ]),\n          m('label', [\n            '下: ',\n            m('input', {\n              type: 'number',\n              value: vm.bottom(),\n              onchange: m.withAttr('value', vm.bottom),\n              onkeyup: m.withAttr('value', vm.bottom)\n            })\n          ]),\n          m('label', [\n            '左: ',\n            m('input', {\n              type: 'number',\n              value: vm.left(),\n              onchange: m.withAttr('value', vm.left),\n              onkeyup: m.withAttr('value', vm.left)\n            })\n          ]),\n          m('label', [\n            '右: ',\n            m('input', {\n              type: 'number',\n              value: vm.right(),\n              onchange: m.withAttr('value', vm.right),\n              onkeyup: m.withAttr('value', vm.right)\n            })\n          ])\n        ]),\n        m('.number', [\n          m('label', [\n            'ピクチャ番号: ',\n            m('input', {\n              type: 'number',\n              value: vm.number(),\n              onchange: m.withAttr('value', vm.number),\n              onkeyup: m.withAttr('value', vm.number)\n            })\n          ])\n        ]),\n        m('button.clear', {\n          onclick: vm.clear.bind(vm)\n        }, 'clear')\n      ]),\n      m('textarea.output', {\n        readonly: 'readonly',\n        onfocus: (e) => { e.target.select(); }\n      }, vm.getOutput())\n    ]);\n  }\n};\n\nexport default component;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/component.js\n **/","import m from 'mithril';\nimport Const from 'const';\n\nexport default class Vm {\n  constructor() {\n    this.result = [];\n    this.xMode = m.prop(Const.mode.center);\n    this.yMode = m.prop(Const.mode.center);\n    this.top = m.prop(0);\n    this.bottom = m.prop(0);\n    this.left = m.prop(0);\n    this.right = m.prop(0);\n    this.number = m.prop(1);\n  }\n\n  loadEnd(e) {\n    if (e.target.readyState == FileReader.DONE) {\n      const file = e.target.result;\n      const img = new Image();\n      img.src = file;\n      this.result.push({\n        name: e.target.filename,\n        width: img.width,\n        height: img.height\n      });\n    }\n    m.endComputation();\n  }\n\n  getOutput() {\n    return this.result.map(({name, width, height}) => {\n      return `Picture(\"${Vm.removeExt(name)}\", ${this.number()}, 0, ${this.getX(width)}, ${this.getY(height)}, 0, 100, 0, 1, 100, 100, 100, 100, 0, 0)`;\n    }).join(\"\\n\");\n  }\n\n  getX(width) {\n    const sx = parseInt(this.left());\n    const aw = Const.window.w - sx - parseInt(this.right());\n    if (this.xMode() == Const.mode.center) {\n      return Math.floor(aw / 2) + sx;\n    }\n    if (this.xMode() == Const.mode.start) {\n      return Math.floor(width / 2) + sx;\n    }\n    if (this.xMode() == Const.mode.end) {\n      return Math.floor(aw - (width / 2)) + sx;\n    }\n\n    throw new Error('x mode error');\n  }\n\n  getY(height) {\n    const sy = parseInt(this.top());\n    const sh = Const.window.h - sy - parseInt(this.bottom());\n    if (this.yMode() == Const.mode.center) {\n      return Math.floor(sh / 2) + sy;\n    }\n    if (this.yMode() == Const.mode.start) {\n      return Math.floor(height / 2) + sy;\n    }\n    if (this.yMode() == Const.mode.end) {\n      return Math.floor(sh - (height / 2)) + sy;\n    }\n\n    throw new Error('x mode error');\n  }\n\n  clear() {\n    this.result = [];\n  }\n\n  static removeExt(filename) {\n    return filename.substr(0, filename.lastIndexOf('.'));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/vm.js\n **/","const Const = {\n  window: {\n    w: 320,\n    h: 240\n  },\n  mode: {\n    center: 0,\n    start: 1,\n    end: 2\n  }\n};\n\nexport default Const;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/const.js\n **/"],"sourceRoot":""}